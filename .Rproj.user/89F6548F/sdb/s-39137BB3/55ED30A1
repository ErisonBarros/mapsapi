{
    "collab_server" : "",
    "contents" : "#' Get directions from the Google Maps Directions API\n#' @param origin Origin, as \\itemize{\n#' \\item{\\code{character} vector of length one with address to be geocoded}\n#' \\item{\\code{numeric} vector of length two (lon, lat)}\n#' \\item{\\code{matrix} with one row and two columns (lon, lat)}\n#' \\item{\\code{sf} or \\code{sfc} layer with one feature}\n#' }\n#' @param destination Destination, as numeric vector of length two (lon, lat)\n#' @param mode Travel mode, one of: \\code{\"driving\"} (default), \\code{\"transit\"}, \\code{\"walking\"}, \\code{\"bicycling\"}\n#' @param alternatives Whether to return more than one alternative (\\code{logical})\n#' @param avoid \\code{NULL} (default) or one of: \\code{\"tolls\"}, \\code{\"highways\"}, \\code{\"ferries\"}\n#' @param key Google APIs key (optional)\n#' @return XML document with Google Maps Directions API response\n#' @import magrittr\n#' @import sf\n#' @importFrom xml2 read_xml xml_find_all xml_text\n#' @export\n#' @examples\n#' \\dontrun{\n#' doc = google_directions(\n#'   origin = c(34.81127, 31.89277),\n#'   destination = c(34.781107, 32.085003),\n#'   alternatives = TRUE\n#' )\n#' doc = google_directions(\n#'   origin = \"Beer-Sheva\",\n#'   destination = c(34.781107, 32.085003) %>% st_point %>% st_sfc(crs = 4326),\n#'   alternatives = TRUE\n#' )\n#' }\n\ngoogle_directions = function(\n  origin,\n  destination,\n  mode = c(\"driving\", \"transit\", \"walking\", \"bicycling\"),\n  alternatives = FALSE,\n  avoid = NULL,\n  key = NULL\n  ) {\n  origin = encode_locations(origin, single = TRUE)\n  destination = encode_locations(destination, single = TRUE)\n  url = paste0(\n    \"https://maps.googleapis.com/maps/api/directions/xml?\",\n    \"origin=\",\n    origin,\n    \"&destination=\",\n    destination,\n    \"&mode=\",\n    mode[1],\n    \"&alternatives=\",\n    tolower(alternatives))\n  if(!is.null(key)) {\n    url = paste0(\n      url,\n      \"&key=\",\n      key\n    )\n  }\n  xml2::read_xml(url)\n}\n\n\n",
    "created" : 1506063160579.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1092509927",
    "id" : "55ED30A1",
    "lastKnownWriteTime" : 1506094588,
    "last_content_update" : 1506094588724,
    "path" : "~/Dropbox/Packages/mapsapi/R/google_directions.R",
    "project_path" : "R/google_directions.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}